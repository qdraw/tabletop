<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>

		#work_queues_chart div {
		    font-size: 0.5em;
		    font-family: sans-serif;
		    color: white;
		    background-color: steelblue;
		    text-align: right;
		    padding: 0.5em;
		    margin: 0.2em;
			display: block;
		}

		</style>
	</head>
	<body>
		<div id="work_queues_chart" />
<button id="update">Update</button>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.11.0/d3.min.js"></script>


		<script type="text/javascript">

		function draw(data) {
		    var scale = d3.scaleLinear()
		        .domain([0, 50])
		        .range([0, 100]);

		    var bars = d3.select("#work_queues_chart")
		        .selectAll("div")
		        .attr("id","work_queues_chart")
		        .data(data);

		    // enter and update selection
		    bars
		      .enter().append("div")
		      .merge(bars)
		      .style("width", function (d) {return scale(d) + "%";})
		      .text(function (d) {return d;});


		    // exit selection
		    bars
		        .exit().remove();
		};

		function update() {
		    var data = [4, 8, 15, 16, 23, 42];
		    draw(data);
		};

		var data = [10, 10, 10, 10, 10, 10];
		window.onload = draw(data);

		d3.select('#update')
		    .on("click",update);

		</script>


	</body>
</html>
